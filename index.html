<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Firework Love Letter âœ¨ðŸ’—</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background: radial-gradient(circle at bottom, #0a0433, #000);
        font-family: 'Verdana', sans-serif;
        height: 100vh;
    }

    #messageBox {
        position: absolute;
        width: 100%;
        text-align: center;
        bottom: 150px;
        font-size: 26px;
        color: #ffd6f6;
        font-weight: 600;
        text-shadow: 0 0 10px #ff7be2, 0 0 20px #ff32d1;
        opacity: 0;
        transition: opacity 1.5s ease-in-out;
        pointer-events: none;
    }
</style>
</head>
<body>

<canvas id="canvas"></canvas>
<div id="messageBox"></div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
let w, h;

function resize() {
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
}
resize();
window.onresize = resize;

// Messages that will appear on loop
const messages = [
    "Watching this together would be my dream come true ðŸ’—",
    "I wish you were here with me âœ¨",
    "You make my world brighter than fireworks ðŸŽ†",
    "If you saw this, I hope it makes you smile ðŸ’ž",
    "Somewhere in another universe, weâ€™re holding hands ðŸŒ™"
];

function showMessage() {
    const box = document.getElementById("messageBox");
    box.innerText = messages[Math.floor(Math.random() * messages.length)];
    box.style.opacity = 1;
    setTimeout(() => {
        box.style.opacity = 0;
    }, 3000);
}

setInterval(showMessage, 5000);

// Firework particles
class Particle {
    constructor(x, y, color, shape = "normal") {
        this.x = x;
        this.y = y;
        this.color = color;
        this.shape = shape;
        this.size = Math.random() * 2 + 1;
        this.speed = Math.random() * 4 + 1;
        this.angle = Math.random() * Math.PI * 2;
        this.alpha = 1;
        this.decay = Math.random() * 0.015 + 0.01;
    }

    update() {
        this.x += Math.cos(this.angle) * this.speed;
        this.y += Math.sin(this.angle) * this.speed;
        this.alpha -= this.decay;
    }

    draw() {
        ctx.globalAlpha = this.alpha;
        ctx.fillStyle = this.color;

        if (this.shape === "heart") {
            ctx.beginPath();
            let x = this.x, y = this.y;
            ctx.moveTo(x, y);
            ctx.bezierCurveTo(x + 4, y - 6, x + 12, y + 2, x, y + 10);
            ctx.bezierCurveTo(x - 12, y + 2, x - 4, y - 6, x, y);
            ctx.fill();
        } else {
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.fill();
        }
    }
}

let particles = [];

function createFirework() {
    let x = Math.random() * w;
    let y = Math.random() * (h / 2);

    const colors = ["#ff71c6", "#ff9de2", "#ff4dff", "#ffb3f4", "#ff5c9e"];
    const color = colors[Math.floor(Math.random() * colors.length)];

    const isHeart = Math.random() < 0.35; // 35% chance of heart fireworks

    const count = isHeart ? 40 : 70;

    for (let i = 0; i < count; i++) {
        particles.push(new Particle(x, y, color, isHeart ? "heart" : "normal"));
    }
}

function animate() {
    ctx.globalAlpha = 0.15;
    ctx.fillStyle = "#000";
    ctx.fillRect(0, 0, w, h);

    ctx.globalAlpha = 1;

    particles.forEach((p, index) => {
        p.update();
        p.draw();
        if (p.alpha <= 0) particles.splice(index, 1);
    });

    requestAnimationFrame(animate);
}

setInterval(createFirework, 700);
animate();
</script>

</body>
</html>
